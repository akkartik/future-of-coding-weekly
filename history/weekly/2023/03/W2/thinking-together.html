
<!doctype html>
<html>
  <head>
    <meta charset=utf-8>
    <title>Future of Coding History</title>
    <link rel="stylesheet" href="https://marianoguerra.github.io/future-of-coding-weekly/history/style.css">
  </head>
  <body>
    <div id="ui">
      <a id="logo" href="https://futureofcoding.org">
        <img src="https://marianoguerra.github.io/future-of-coding-weekly/history/logo.svg" alt="Future of Coding History">
      </a>
      <div id="small-logo">
        <a href="https://futureofcoding.org">Future of Coding</a> History
      </div>
      <div id="center">
        <h4>
          You are viewing archived messages.<br>
          Go <a href="https://marianoguerra.github.io/future-of-coding-weekly/history">here</a> to search the history.
        </h4>
      </div>
      <div id="actions"></div>
    </div>
    <div id="msgs-output">
<div id="2023-03-06T18:54:33.587Z" class="post"><span class="user">Jared Forsyth</span> <a href="./?fromDate=2023-03-03&amp;toDate=2023-03-09&amp;channel=thinking-together&amp;filter=#2023-03-06T18:54:33.587Z" class="date">2023-03-06 18:54:33</a> <div class="message"><p>Do y'all know of any editors with undo/redo behavior that's more interesting/granular than just scrubbing through all of the edits you've done to a file in order?</p>
<p>I often find my self wanting "undo the last change to <em>this function</em>" ü§î</p>
</div> <div class="attachments"></div> <div class="files"></div> <div class="replies"><div id="2023-03-06T18:57:59.802Z" class="reply"><span class="user">Ivan Reese</span> <a href="./?fromDate=2023-03-03&amp;toDate=2023-03-09&amp;channel=thinking-together&amp;filter=#2023-03-06T18:57:59.802Z" class="date">2023-03-06 18:57:59</a> <div class="message"><p>Some 3d modelling tools have separate undo/redo stacks for different parts of the program. For instance, undo/redo for changes to your viewport are separate from undo/redo for changes to objects in your scene, which are separate from undo/redo to changes in your F-curve editor or node-wire material editor.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-06T18:59:23.744Z" class="reply"><span class="user">Jared Forsyth</span> <a href="./?fromDate=2023-03-03&amp;toDate=2023-03-09&amp;channel=thinking-together&amp;filter=#2023-03-06T18:59:23.744Z" class="date">2023-03-06 18:59:23</a> <div class="message"><p>Yeah, that makes sense, sounds like those are basically different editors, that each maintain their own stack</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-06T19:10:25.901Z" class="reply"><span class="user">Ben Tyler</span> <a href="./?fromDate=2023-03-03&amp;toDate=2023-03-09&amp;channel=thinking-together&amp;filter=#2023-03-06T19:10:25.901Z" class="date">2023-03-06 19:10:25</a> <div class="message"><p>I really love vim‚Äôs tree based undo. It‚Äôs like git for keystrokes - edits on top of edits create branching histories. </p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-06T19:16:45.241Z" class="reply"><span class="user">Ben Tyler</span> <a href="./?fromDate=2023-03-03&amp;toDate=2023-03-09&amp;channel=thinking-together&amp;filter=#2023-03-06T19:16:45.241Z" class="date">2023-03-06 19:16:45</a> <div class="message"><p>It isn‚Äôt localized like you describe. Also impossible to use without a plugin to visualize the tree, like Gundo.vim: <a href="https://advancedweb.hu/assets/posts/vim-undo-tree/gundo-1b34fafe3700f571c821123a52eaf29d43dae7c72aa88e04b4dd42916ae3ee2a.jpg">advancedweb.hu/assets/posts/vim-undo-tree/gundo-1b34fafe3700f571c821123a52eaf29d43dae7c72aa88e04b4dd42916ae3ee2a.jpg</a>. </p>
<p>‚ÄúLocal change history‚Äù is a really cool idea; I think I would struggle to define the boundaries for my undo-space in a consistent way. Sometimes I‚Äôm working on one function / module; sometimes I‚Äôm pushing larger globs of code around. </p>
</div> <div class="attachments"><blockquote><p>üì∑ <a href="https://advancedweb.hu/assets/posts/vim-undo-tree/gundo-1b34fafe3700f571c821123a52eaf29d43dae7c72aa88e04b4dd42916ae3ee2a.jpg">1112x962px image</a></p>
</blockquote>
</div> <div class="files"></div></div><div id="2023-03-06T19:18:20.831Z" class="reply"><span class="user">Jared Forsyth</span> <a href="./?fromDate=2023-03-03&amp;toDate=2023-03-09&amp;channel=thinking-together&amp;filter=#2023-03-06T19:18:20.831Z" class="date">2023-03-06 19:18:20</a> <div class="message"><p>Yeah, there would definitely be changes at different levels, it'll be a challenge to represent things in a way that doesn't break either the large or the small case.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-06T19:19:49.239Z" class="reply"><span class="user">Jared Forsyth</span> <a href="./?fromDate=2023-03-03&amp;toDate=2023-03-09&amp;channel=thinking-together&amp;filter=#2023-03-06T19:19:49.239Z" class="date">2023-03-06 19:19:49</a> <div class="message"><p>One hacky idea is to have the main history stack/tree be for the whole editor, but have a "view history of this function" and allow you to "revert" to a previous state, which actually adds a change to the main history stack.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-06T19:35:44.824Z" class="reply"><span class="user">Ben Tyler</span> <a href="./?fromDate=2023-03-03&amp;toDate=2023-03-09&amp;channel=thinking-together&amp;filter=#2023-03-06T19:35:44.824Z" class="date">2023-03-06 19:35:44</a> <div class="message"><p>Thinking about a version control system which understands code structure led me to visualize it as basically node/wire visual programming, where undo histories are held both at the node level (function, module, class) and for the overall canvas (file, project?). I think that‚Äôs pretty much what you described. </p>
<p>Rephrasing a bit, maybe one way to think about it is expanding the hierarchy of undo scopes: most people today have project scope (version control) and file scope (editor undo). Higher up the hierarchy than project scope - integration scope, maybe? - depends on monorepo; I guess API versioning and pinning is kind of this as well. Lower down the hierarchy is function edit history.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-06T20:03:14.788Z" class="reply"><span class="user">Ibro</span> <a href="./?fromDate=2023-03-03&amp;toDate=2023-03-09&amp;channel=thinking-together&amp;filter=#2023-03-06T20:03:14.788Z" class="date">2023-03-06 20:03:14</a> <div class="message"><p>Solidworks has a UI tree that sound like the opposite side of vim‚Äôs graph. There‚Äôs a command history where you can go to any previous point and change a parameter, if it still creates a valid model, changes trickle down. Porting that to a code editor could be something like:</p>
<p>if x is editted on commit 4 and there are no errors; then merge to present; else (attempt to edit in between commits so some test is satisfied?)</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-06T21:27:48.641Z" class="reply"><span class="user">Ben Tyler</span> <a href="./?fromDate=2023-03-03&amp;toDate=2023-03-09&amp;channel=thinking-together&amp;filter=#2023-03-06T21:27:48.641Z" class="date">2023-03-06 21:27:48</a> <div class="message"><p>Oh interesting. So kind of a ‚Äúback to the future‚Äù time traveling editor model. Is there a challenge with deep historical changes having unintentional outcomes after the changes propagate? </p>
<p>when you ‚Äúundo‚Äù, does it undo the change you made to the historical command, or remove the effects of the most recent command (leaving the ‚Äúaltered history‚Äù in place)?</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-06T22:00:38.668Z" class="reply"><span class="user">Ibro</span> <a href="./?fromDate=2023-03-03&amp;toDate=2023-03-09&amp;channel=thinking-together&amp;filter=#2023-03-06T22:00:38.668Z" class="date">2023-03-06 22:00:38</a> <div class="message"><p>Yes, going further back tends generally means more commands depending on each other with potential to break. I think the best description would be ‚Äúmodifying‚Äù a previous command (which could include a delete/hide). After that it attempts to rebuild to current state, or as far as it can get before something breaks. There is also a normal CTRL+Z which you rarely use as a ‚Äúgood‚Äù Solidworks user. </p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-06T23:06:15.157Z" class="reply"><span class="user">Joshua Horowitz</span> <a href="./?fromDate=2023-03-03&amp;toDate=2023-03-09&amp;channel=thinking-together&amp;filter=#2023-03-06T23:06:15.157Z" class="date">2023-03-06 23:06:15</a> <div class="message"><p>Amusingly, <a href="https://observablehq.com/">Observable</a> lacks global undo, but because CodeMirror implements nice undo functionality, it still has per-cell-editor undo. It‚Äôs granular undo by default / accident.</p>
</div> <div class="attachments"><blockquote><p>üìù <a href="https://observablehq.com/">Collaborative data platform and canvas | Observable</a></p>
</blockquote>
</div> <div class="files"></div></div><div id="2023-03-06T23:10:28.332Z" class="reply"><span class="user">Andrew F</span> <a href="./?fromDate=2023-03-03&amp;toDate=2023-03-09&amp;channel=thinking-together&amp;filter=#2023-03-06T23:10:28.332Z" class="date">2023-03-06 23:10:28</a> <div class="message"><p>A possible UI for text would be to select an arbitrary region (maybe a function, maybe bigger/smaller) and undo changes that intersect with that region.  Or use said selection as a filter for other fancy operations on undo history. (Which presumably gets really interesting when you try to have undo history for the selection itself, a la Blender and what I wish I had in Kakoune (vim-like selection heavy editor)).</p>
<p>In practice, I tend to delete by commenting until I'm ready to commit to Git, so I can undo either by reverting or uncommenting. Which is to say, I'm interested in this feature. :melting_face:</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-07T01:55:02.349Z" class="reply"><span class="user">Kartik Agaram</span> <a href="./?fromDate=2023-03-04&amp;toDate=2023-03-10&amp;channel=thinking-together&amp;filter=#2023-03-07T01:55:02.349Z" class="date">2023-03-07 01:55:02</a> <div class="message"><p>My reaction was the same as <a href="https://twitter.com/qualmist">Joshua Horowitz</a>. Organizing code by definition is an easy and intuitive way to get per function undo. Having multiple kinds of undo seems like it might be confusing some of the time.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-07T06:26:37.734Z" class="reply"><span class="user">Jack Rusher</span> <a href="./?fromDate=2023-03-04&amp;toDate=2023-03-10&amp;channel=thinking-together&amp;filter=#2023-03-07T06:26:37.734Z" class="date">2023-03-07 06:26:37</a> <div class="message"><p>I use the emacs version of that tree-based undo system. It's very cool, but not granular in the way you want. IIRC the Smalltalk environment I used in the late 80s had scoped undo in the individual editors, which is more along these lines.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-07T07:37:21.686Z" class="reply"><span class="user">Chris Knott</span> <a href="./?fromDate=2023-03-04&amp;toDate=2023-03-10&amp;channel=thinking-together&amp;filter=#2023-03-07T07:37:21.686Z" class="date">2023-03-07 07:37:21</a> <div class="message"><p>I think you might be able to get this from git if you pushed every single change as a commit and used interactive rebase</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-07T07:37:59.382Z" class="reply"><span class="user">Chris Knott</span> <a href="./?fromDate=2023-03-04&amp;toDate=2023-03-10&amp;channel=thinking-together&amp;filter=#2023-03-07T07:37:59.382Z" class="date">2023-03-07 07:37:59</a> <div class="message"><p>(I mean do that behind the scenes as a way of implementing it)</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-08T19:47:39.443Z" class="reply"><span class="user">George Mauer</span> <a href="./?fromDate=2023-03-05&amp;toDate=2023-03-11&amp;channel=thinking-together&amp;filter=#2023-03-08T19:47:39.443Z" class="date">2023-03-08 19:47:39</a> <div class="message"><p>I've implemented an undo/redo system on top of mercurial before when building an in-browser editor</p>
<p>I believe GIMP has had for a long time planned an event-sourcing style system where you are recording  <em>actions</em>  not state and can add or remove actions to recreate state at any time. This means that you can do things like build up a series of operations, then go and remove some of the operations in the middle, or maybe even change the image you're operating on without redoing the operations.</p>
<p>GIMP still hasn't implemented this, but I believe it is how FreeCAD works</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-08T19:48:17.110Z" class="reply"><span class="user">George Mauer</span> <a href="./?fromDate=2023-03-05&amp;toDate=2023-03-11&amp;channel=thinking-together&amp;filter=#2023-03-08T19:48:17.110Z" class="date">2023-03-08 19:48:17</a> <div class="message"><p>and also yes, I also use  <code>undo-tree</code>  in emacs</p>
</div> <div class="attachments"></div> <div class="files"><blockquote><p>üì∑ <a href="http://history.futureofcoding.org/history/msg_files/F04/F04T3EEHAHJ.png">image.png</a></p>
</blockquote>
</div></div><div id="2023-03-10T10:03:05.175Z" class="reply"><span class="user">Oleksandr Kryvonos</span> <a href="./?fromDate=2023-03-07&amp;toDate=2023-03-13&amp;channel=thinking-together&amp;filter=#2023-03-10T10:03:05.175Z" class="date">2023-03-10 10:03:05</a> <div class="message"><p>maybe a poor-man and somewhat pragmatic approach would be to just have each function in a separate file, then you get undo per function with standard out of the shelf solution</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2023-03-12T05:56:26.201Z" class="reply"><span class="user">Jared Forsyth</span> <a href="./?fromDate=2023-03-09&amp;toDate=2023-03-15&amp;channel=thinking-together&amp;filter=#2023-03-12T05:56:26.201Z" class="date">2023-03-12 05:56:26</a> <div class="message"><p>fortunately for me I'm throwing out the "code lives in text files" thing altogether, so I have quite a bit of flexibility üòÑ</p>
</div> <div class="attachments"></div> <div class="files"></div></div></div></div>
    </div>
  </body>
</html>
