
<!doctype html>
<html>
  <head>
    <meta charset=utf-8>
    <title>Future of Coding History</title>
    <link rel="stylesheet" href="https://marianoguerra.github.io/future-of-coding-weekly/history/style.css">
  </head>
  <body>
    <div id="ui">
      <a id="logo" href="https://futureofcoding.org">
        <img src="https://marianoguerra.github.io/future-of-coding-weekly/history/logo.svg" alt="Future of Coding History">
      </a>
      <div id="small-logo">
        <a href="https://futureofcoding.org">Future of Coding</a> History
      </div>
      <div id="center">
        <h4>
          You are viewing archived messages.<br>
          Go <a href="https://marianoguerra.github.io/future-of-coding-weekly/history">here</a> to search the history.
        </h4>
      </div>
      <div id="actions"></div>
    </div>
    <div id="msgs-output">
<div id="2022-08-15T15:24:12.279Z" class="post"><span class="user">Garth Goldwater</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T15:24:12.279Z" class="date">2022-08-15 15:24:12</a> <div class="message"><p>Calling all type nerds: my new job deals with a lot of encrypted data that shouldn't be transmitted in plaintext. We’ve just added sorbet to our rails project (gradual typechecker). I feel like I've read somewhere that it's possible to use types to enforce that kind of restriction. Does anyone have any experience using types for that (or links to talks/papers/blog posts)?</p>
</div> <div class="attachments"></div> <div class="files"></div> <div class="replies"><div id="2022-08-15T15:40:27.011Z" class="reply"><span class="user">Mariano Guerra</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T15:40:27.011Z" class="date">2022-08-15 15:40:27</a> <div class="message"><p>Language-based information-flow security <a href="https://ieeexplore.ieee.org/abstract/document/1159651">ieeexplore.ieee.org/abstract/document/1159651</a></p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T15:42:41.041Z" class="reply"><span class="user">Mariano Guerra</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T15:42:41.041Z" class="date">2022-08-15 15:42:41</a> <div class="message"><p>you may find more searching for "tainted data", "taint propagation" and similar</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T15:48:35.363Z" class="reply"><span class="user">Garth Goldwater</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T15:48:35.363Z" class="date">2022-08-15 15:48:35</a> <div class="message"><p>for anyone looking, here's the preprint: <a href="https://www.cs.cornell.edu/andru/papers/jsac/sm-jsac03.pdf">cs.cornell.edu/andru/papers/jsac/sm-jsac03.pdf</a></p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T15:54:48.786Z" class="reply"><span class="user">Garth Goldwater</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T15:54:48.786Z" class="date">2022-08-15 15:54:48</a> <div class="message"><p><a href="https://github.com/colelawrence">Cole Lawrence</a> </p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T15:56:10.711Z" class="reply"><span class="user">Garth Goldwater</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T15:56:10.711Z" class="date">2022-08-15 15:56:10</a> <div class="message"><p>i'm almost imagining something like a NoTransmit&lt;a&gt; getting returned from the decryption function and delegating all the methods to the member… but then using some kind of exclusion logic on methods that transmit data to the client. or like have the transmission methods only accept Encrypted&lt;a&gt; for certain values of a. is that too wild?</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:05:15.111Z" class="reply"><span class="user">Cole Lawrence</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:05:15.111Z" class="date">2022-08-15 16:05:15</a> <div class="message"><p>I might be harebrained to say this. But, my initial thought is to have a kind of encrypted dictionary of information + a centralized security master with an access log.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:05:56.289Z" class="reply"><span class="user">Garth Goldwater</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:05:56.289Z" class="date">2022-08-15 16:05:56</a> <div class="message"><p>the company is SOC 2 compliant—encryption at rest and in transit is already happening </p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:06:31.881Z" class="reply"><span class="user">Cole Lawrence</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:06:31.881Z" class="date">2022-08-15 16:06:31</a> <div class="message"><p>Ah, so this is just a type design question?</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:07:47.831Z" class="reply"><span class="user">Garth Goldwater</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:07:47.831Z" class="date">2022-08-15 16:07:47</a> <div class="message"><p>yeah the scenario is basically: the server decrypts some data for a calculation, then asks an api a question or sends some data to a client, while accidentally including some personally identifiable info. we catch it in code reviews but i was was wondering if there was a way to catch it at compile time</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:11:52.305Z" class="reply"><span class="user">Cole Lawrence</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:11:52.305Z" class="date">2022-08-15 16:11:52</a> <div class="message"><p>Something simple could be to always return decrypted data back to the user code under a  <code>{ $dec: ___ }</code>  key, so then, you would always have to access the decrypted data by using  <code>respJson.userName.$dec</code>  then, you can write a linter to statically check all use-sites accesses of the decrypted data.</p>
<p>Just spit balling. This could obv be modified to some other tools in Ruby</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:12:28.273Z" class="reply"><span class="user">Cole Lawrence</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:12:28.273Z" class="date">2022-08-15 16:12:28</a> <div class="message"><p>Or, it's easier to lint with your eyes...</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:13:53.074Z" class="reply"><span class="user">Garth Goldwater</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:13:53.074Z" class="date">2022-08-15 16:13:53</a> <div class="message"><p>yeah i'm pretty much trying to figure out how to encode that with a type—the decryption process is really clever, so it basically feels like you're using a regular rails object even though it's encrypted in memory. that's really nice for ergonomics and not having to update the whole codebase but it also means there's no guardrail to prevent you from sending it somewhere. maybe the answer is just to look through the encryption/decryption code and see if there's an obvious spot for a shim </p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:14:32.115Z" class="reply"><span class="user">Mariano Guerra</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:14:32.115Z" class="date">2022-08-15 16:14:32</a> <div class="message"><p>a data type that throws when encoded/decoded? (if that's a thing in ruby)</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:14:56.574Z" class="reply"><span class="user">Garth Goldwater</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:14:56.574Z" class="date">2022-08-15 16:14:56</a> <div class="message"><p>so we want it to be decoded for use. we just don't want the decoded data sent off the server </p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:16:06.758Z" class="reply"><span class="user">Garth Goldwater</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:16:06.758Z" class="date">2022-08-15 16:16:06</a> <div class="message"><p>or saved without encryption (very unlikely because the save instructions etc get interrupted by an encrypt-first proxy afaict)</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:18:18.124Z" class="reply"><span class="user">Garth Goldwater</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:18:18.124Z" class="date">2022-08-15 16:18:18</a> <div class="message"><p>this is kind of like the expression problem tbh: it's really easy in a dynamic OO PL to make sure that data gets encrypted/decrypted for save and use but it's really hard when we start calling functions like ‘ <code>respond_to</code> ’ or ‘ <code>to_json</code> ’ with that data as arguments or values deep in a hash somewhere </p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:19:49.163Z" class="reply"><span class="user">Garth Goldwater</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:19:49.163Z" class="date">2022-08-15 16:19:49</a> <div class="message"><p>i'm hoping there's some way to make that data a wrapped type that complains only when it's going over the wire</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:21:56.270Z" class="reply"><span class="user">Cole Lawrence</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:21:56.270Z" class="date">2022-08-15 16:21:56</a> <div class="message"><p>Sounds almost like sonarqube control flow analysis type stuff. Tracking when a piece of data was unwrapped and where it goes in order to detect this type of issue statically.</p>
<p>Not really an answer...</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:24:44.162Z" class="reply"><span class="user">Cole Lawrence</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:24:44.162Z" class="date">2022-08-15 16:24:44</a> <div class="message"><p>Another strategy is to try to completely isolate communications with this business logic somehow. So, you can do all the dangerous PII Management inside the business logic process, but it has to go through a small port to communicate externally (port like Elm)</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:26:38.577Z" class="reply"><span class="user">Cole Lawrence</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:26:38.577Z" class="date">2022-08-15 16:26:38</a> <div class="message"><p>One other crazy idea, would be to include mocking tools to generate pii during your testing. And, then use a proxies on the request to make sure pii matching data from the mocker are not being sent between services.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:27:00.991Z" class="reply"><span class="user">Cole Lawrence</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:27:00.991Z" class="date">2022-08-15 16:27:00</a> <div class="message"><p>Almost like a security fuzzer *</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T16:40:35.152Z" class="reply"><span class="user">Garth Goldwater</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T16:40:35.152Z" class="date">2022-08-15 16:40:35</a> <div class="message"><p>woah these are all great ideas thank you</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-15T17:41:57.747Z" class="reply"><span class="user">Joakim Ahnfelt-Rønne</span> <a href="./?fromDate=2022-08-12&amp;toDate=2022-08-18&amp;channel=present-company&amp;filter=#2022-08-15T17:41:57.747Z" class="date">2022-08-15 17:41:57</a> <div class="message"><p>Perhaps create a Classified&lt;T&gt; type that can only be read by a Declassifier object, giving you something like object capabilities.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2022-08-16T07:16:23.477Z" class="reply"><span class="user">Tom Larkworthy</span> <a href="./?fromDate=2022-08-13&amp;toDate=2022-08-19&amp;channel=present-company&amp;filter=#2022-08-16T07:16:23.477Z" class="date">2022-08-16 07:16:23</a> <div class="message"><p>At google protobuffer message field descriptions can be annotated with <a href="https://developers.google.com/protocol-buffers/docs/proto#options">options</a>, so then there are linters that check the service definition is not allowing public access to confidential fields. I think there was deeper support in some of the processing libraries to pass those flags along variables but I can't see anything equivalent in the public domain and they are not really foolproof anyway. I do think this is more of a metadata topic rather than a types topic though. gRPC can represent annotated datatypes, which might be a useful building block (?)</p>
</div> <div class="attachments"></div> <div class="files"></div></div></div></div>
    </div>
  </body>
</html>
